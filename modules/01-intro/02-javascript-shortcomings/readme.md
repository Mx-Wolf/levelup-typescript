# Некоторые трудности обеспечения качества программы javascript

Посмотрите программу javascript ниже. Можете ли вы с уверенностью сказать, что она будет работать правильно?

```javascript
function process(text) {
  return text && text.replace(/б/g, "с")
}
let a = "боль";
process(a).toUpperCase();

```

Всегда ли она будет работать правильно? Насколько этот код устойчив к входящим значениям? А что если:

* `a=null` - Uncaught TypeError: Cannot read properties of null (reading 'toUpperCase')
* `a=0` - Uncaught TypeError: process(...).toUpperCase is not a function

Как выходить из положения?

Можно договориться, что `process` получает только параметр в виде строки и убедиться в соблюдении договоренности с помощью проверки.

```javascript
function process(text) {
  if(typeof text !== string){
    throw new Error('Мы же договорились, параметр text должен быть строкой'):
  }
  return text && text.replace(/б/g, "с")
}
let a = "боль";
process(a).toUpperCase();

```

Однако, если `process` это внутренняя функция модуля, и мы могли бы гарантировать аргумент-строку. Конечно, мы должны будем это задокументировать. Но во время работы программы, неужели нам так и придется выполнять проверку, которая всегда будет подтверждать правильность типа параметра? Может понадеяться на авось и самоуспокоиться тем, что перед вызовом тип будет правильным? Не самый лучший вариант.

Если вы хотите получить в руки инструмент решающий подобные вопросы элегантно и надежно, этот курс для вас. Этот инструмент - typescript.
