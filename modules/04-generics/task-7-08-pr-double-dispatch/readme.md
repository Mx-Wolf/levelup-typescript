# Добавление новых операций к существующему классу на примере журнала обслуживания автомобилей

Загрязнение прототипов (prototype pollution) считается рискованным, и опытные разработчики рекомендуют его избегать.

В некоторых случаях использование шаблона Visitor — лучшее приближение к решению проблемы создания дополнительных методов к существующим объектам. К использованию любого шаблона нужно подходить критически. Но предположим, что перед нами задача, для которой использование Visitor оправдано. Как его использовать в TypeScript?

## Задание

В организации по обслуживанию автомобилей принято регистрировать выполненную работу в журнале. Используя список событий этого журнала, требуется создать несколько статистических отчётов.

Структура записей в журнале меняется редко, а количество отчётов не ограничено. Поэтому полезно вынести сбор статистики в отдельные компоненты и использовать их в стиле двойной диспетчеризации. То есть в соответствии с шаблоном Visitor.

Ваша задача: создать компоненты генерации трёх отчётов. Другими словами, дополнить список методов массива объектов типа «запись в журнале регистрации» методами генерации отчётов.

- [Корреляция](https://codesandbox.io/s/affectionate-hodgkin-chbv2?file=/src/visitors/age-cost-correlation/i-face-age-cost-correlations.ts) между возрастом автомобиля и затратами на его обслуживание.
- [Сводка](https://codesandbox.io/s/affectionate-hodgkin-chbv2?file=/src/visitors/customer-outstanding/i-face-customer-outstanding.ts) о задолженности клиентов.
- [Сводка показателей](https://codesandbox.io/s/affectionate-hodgkin-chbv2?file=/src/visitors/service-center-totals/i-face-service-center-totals.ts) по сервисным центрам.

Используйте [определение структуры](https://codesandbox.io/s/affectionate-hodgkin-chbv2?file=/src/i-face-service-log.ts) записей в журнале регистрации, изучите форму желаемого результата.
