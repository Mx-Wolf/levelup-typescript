# Типизация функций для работы с записями

В файле `ledger-or.json` хранится демо-выборка из журнала операций организации. Операции представляют json-объект вида, похожего на такой:

```json
{
  "generalLedgerId": 2,
  "posted": "2021-07-28T07:49:45.507",
  "debitAccountId": "311.0001 income",
  "creditAccountId": "158.0001 project",
  "amount": 2021.43,
  "referenceId": "promo"
}
```

В соответствии с правилами двойной записи движения средств по счетам, этот журнал содержит записи, в каждой из которых задействовано два счета. дебетуемый счет `debitAccountId` и кредитуемый счет `creditAccountId`. В разных записях счет может встречаться много раз (0 или больше) как в поле debitAccountId так и в поле creditAccountId. Один и тот же счет не может встречаться одновременно в обоих свойствах в одной и той же записи.

Вам следует преобразовать список таких объектов-записей журнала -в другой список **ежедневные обороты по счету**, так чтобы он по форме элементы этого массива соответствовали указанному интерфейсу `AccountDaily` для одного конкретного указанного значения счета.

```ts
export interface AccountDaily {
  date: string; // этот день
  debitDayTotal: number; //сумма amount всех записей журнала за этот день, где указанный счет дебетуется
  creditDayTotal: number;  // сумма amount все записей журнала за этот день, где указанный счет кредитуется
}
```

Вам следует отфильтровать журнал операций, оставить только те записи, которые либо по кредиту либо по дебиту связаны у переданным вам счетом и составить результирующий агрегированный массив.

Дополнительно известно, что значение в поле `AccountDaily.date` должно не содержать значения времени (т.е. быть в форме `YYYY-MM-DD`T`00:00:00.000`Z);

Функцию свертки нужно сделать в соответствии с интерфейсом

```ts
export type AccountDailyReducer = (accountId: string, ledger: unknown) => AccountDaily[];
```

Тип параметра `ledger` следует определить таким образом, чтобы с одной стороны в функцию можно было бы передать записи из `ledger-or.json`, а с другой, чтобы тип значения был минимально необходимый для выполнения операции.

Значение параметра `accountId` (строка) может присутствовать в журнале либо в поле `debitAccountId` либо в поле `creditAccountId`.
